<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-site-verification" content="cKoUmQloU_EmrKiyi7fRrNT1Z1pnVMVtCpAsJz6btPo" />

<!-- Primary Meta Tags -->
<title>üéÇ Happy Birthday Wishes | MS Nonstop üéâ</title>
<meta name="title" content="üéÇ Happy Birthday Wishes | MS Nonstop üéâ">
<meta name="description" content="Send and explore heartfelt birthday wishes made with love! üíñ A creative birthday surprise by MS Nonstop.">
<meta name="keywords" content="birthday, wishes, surprise, gift, love, ms nonstop, happy birthday, celebration, party, greeting, cake">
<meta name="author" content="MS Nonstop">

<!-- Favicon -->
<link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/4151/4151069.png">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://yourwebsiteurl.com/">
<meta property="og:title" content="üéÇ Happy Birthday Wishes | MS Nonstop üéâ">
<meta property="og:description" content="A beautiful birthday landing page full of love, wishes, and surprises üíï.">
<meta property="og:image" content="https://cdn.pixabay.com/photo/2017/08/06/09/53/birthday-2595751_960_720.png">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://yourwebsiteurl.com/">
<meta name="twitter:title" content="üéÇ Happy Birthday Wishes | MS Nonstop üéâ">
<meta name="twitter:description" content="Celebrate a special day with warmth, joy, and heartfelt wishes üéà.">
<meta name="twitter:image" content="https://cdn.pixabay.com/photo/2017/08/06/09/53/birthday-2595751_960_720.png">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:"Poppins",sans-serif;
  min-height:100vh;
  background:linear-gradient(135deg,#ffb6c1,#ff66b3,#cc66ff);
  background-size:400% 400%;
  animation:gradientMove 8s ease infinite;
  overflow-x:hidden;
}
@keyframes gradientMove {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* ===== Navbar ===== */
nav{
  position:fixed;top:0;left:0;width:100%;
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(10px);
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 20px;z-index:100;
  box-shadow:0 4px 30px rgba(0,0,0,0.2);
}
nav .logo{font-size:20px;color:#fff;font-weight:700;text-shadow:0 2px 10px rgba(255,255,255,0.5);}
nav ul{display:flex;gap:20px;}
nav ul li{list-style:none;}
nav ul li a{color:white;text-decoration:none;font-weight:500;font-size:16px;transition:0.3s;}
nav ul li a:hover{color:#ffe6f9;text-shadow:0 0 10px #fff;}
.auth-btns{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
.auth-btns button{
  padding:6px 14px;border:none;border-radius:8px;
  background:linear-gradient(90deg,#ff4da6,#ff1a8c);color:white;cursor:pointer;
  transition:0.3s;font-size:14px;
}
.auth-btns button:hover{background:linear-gradient(90deg,#ff66b3,#cc33ff);}
#userDisplay{
  color:#fff;
  font-weight:600;
  text-shadow:0 2px 5px rgba(0,0,0,0.4);
  font-size:14px;
}

/* ===== Hero Section ===== */
.hero{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  text-align:center;height:100vh;padding:100px 20px 60px;color:white;position:relative;
  background:url('birthday.jpg') center/cover no-repeat;
}
.hero::after{
  content:"";position:absolute;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.4);z-index:0;
}
.hero h1, .hero p{
  position:relative;z-index:1;
}
.hero h1{
  font-size:60px;font-weight:700;
  text-shadow:0 10px 30px rgba(0,0,0,0.4);
  animation:floatText 3s ease-in-out infinite;
}
@keyframes floatText{0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
.hero p{
  font-size:20px;margin-top:15px;max-width:600px;
}

/* ===== Wishes Section ===== */
section#wishes{
  padding:80px 20px;
  background:rgba(255,255,255,0.1);
  backdrop-filter:blur(10px);
  color:#fff;text-align:center;
}
#wishes h2{
  font-size:35px;margin-bottom:30px;
  color:#ffe6f2;text-shadow:0 0 15px rgba(255,255,255,0.4);
}
.wish-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:25px;max-width:1100px;margin:0 auto;
}
.wish-card{
  background:rgba(255,255,255,0.2);
  border-radius:20px;padding:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.3);
  backdrop-filter:blur(8px);
  transition:transform 0.3s;cursor:pointer;
}
.wish-card:hover{transform:translateY(-10px) scale(1.05);}
.wish-card img{
  width:100%;border-radius:15px;
  height:180px;object-fit:cover;
}
.wish-card h3{margin-top:10px;font-size:20px;color:#ffe6f9;}
.wish-card p{font-size:15px;margin-top:5px;}

/* ===== Floating Decorations ===== */
.floating{
  position:absolute;font-size:30px;opacity:0.7;
  animation:floaty 8s ease-in-out infinite;
}
@keyframes floaty{0%,100%{transform:translateY(0);}50%{transform:translateY(-30px);}}
.heart1{left:10%;top:20%;}.heart2{right:15%;top:40%;}.heart3{left:50%;bottom:10%;}.heart4{right:40%;top:65%;}.heart5{left:25%;top:60%;}

/* ===== Modal ===== */
.modal{
  display:none;position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);
  justify-content:center;align-items:center;z-index:1000;
}
.modal-content{
  background:white;padding:25px;border-radius:15px;width:90%;max-width:320px;
  display:flex;flex-direction:column;gap:10px;
}
.modal-content h2{text-align:center;color:#ff4da6;}
.modal-content input{
  padding:10px;border:1px solid #ccc;border-radius:8px;width:100%;
}
.modal-content button{
  padding:10px;border:none;border-radius:8px;
  background:#ff66b3;color:white;cursor:pointer;
}
.modal-content button:hover{background:#cc33ff;}

footer{
  text-align:center;padding:30px;
  background:rgba(255,255,255,0.15);
  color:white;font-size:14px;
}

/* ===== Responsive ===== */
@media(max-width:600px){
  .hero h1{font-size:42px;}
  .hero p{font-size:18px;}
  nav ul{display:none;}
  .auth-btns button{padding:6px 10px;font-size:13px;}
}
</style>
</head>
<body>

<!-- Navbar -->
<nav>
  <div class="logo">üéÇ Birthday Wishes</div>
  <ul>
    <li><a href="#home">Home</a></li>
    <li><a href="#wishes">Wishes</a></li>
  </ul>
  <div class="auth-btns">
    <span id="userDisplay"></span>
    <button id="loginBtn">Login</button>
    <button id="registerBtn">Register</button>
    <button id="logoutBtn" style="display:none;">Logout</button>
  </div>
</nav>

<!-- Floating Emojis -->
<div class="floating heart1">üéà</div>
<div class="floating heart2">üéÅ</div>
<div class="floating heart3">üíñ</div>
<div class="floating heart4">üéâ</div>
<div class="floating heart5">üéÇ</div>

<!-- Hero Section -->
<section id="home" class="hero">
  <h1>Happy Birthday üíñ</h1>
  <p>May your day be filled with laughter, love, and unforgettable surprises! üéâ</p>
</section>

<!-- Wishes Section -->
<section id="wishes">
  <h2>üéÅ Birthday Wishes Gallery üéÅ</h2>
  <div class="wish-grid" id="wishGrid">
    <p style="width:100%;color:white;">Loading wishes...</p>
  </div>
</section>

<!-- Login Modal -->
<div class="modal" id="loginModal">
  <div class="modal-content">
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button id="loginSubmit">Login</button>
    <button id="googleLogin">Login with Google</button>
  </div>
</div>

<!-- Register Modal -->
<div class="modal" id="registerModal">
  <div class="modal-content">
    <h2>Register</h2>
    <input type="text" id="registerName" placeholder="Full Name">
    <input type="email" id="registerEmail" placeholder="Email">
    <input type="password" id="registerPassword" placeholder="Password">
    <button id="registerSubmit">Sign Up</button>
  </div>
</div>

<footer>Made with üíï by MS Nonstop | ¬© 2025</footer>

<script type="module">
// ===== Firebase Config =====
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";
import { 
  getAuth, onAuthStateChanged, signOut, 
  signInWithEmailAndPassword, createUserWithEmailAndPassword,
  updateProfile, GoogleAuthProvider, signInWithPopup 
} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCAKFNsyN2Xa5Db_eUUixQsMG1s-eyehg8",
  authDomain: "m-s-socilal-c84j79.firebaseapp.com",
  projectId: "m-s-socilal-c84j79",
  storageBucket: "m-s-socilal-c84j79.appspot.com",
  messagingSenderId: "221654893663",
  appId: "1:221654893663:web:e9d07d7085a20292bb87ea"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// ===== Modal Control =====
const loginModal = document.getElementById("loginModal");
const registerModal = document.getElementById("registerModal");
document.getElementById("loginBtn").onclick = () => loginModal.style.display = "flex";
document.getElementById("registerBtn").onclick = () => registerModal.style.display = "flex";
window.onclick = (e) => {
  if (e.target === loginModal) loginModal.style.display = "none";
  if (e.target === registerModal) registerModal.style.display = "none";
};

// ===== Authentication =====
document.getElementById("registerSubmit").onclick = async () => {
  const name = registerName.value.trim();
  const email = registerEmail.value.trim();
  const pass = registerPassword.value.trim();
  try {
    const userCred = await createUserWithEmailAndPassword(auth, email, pass);
    await updateProfile(userCred.user, { displayName: name });
    alert("Registration successful!");
    registerModal.style.display = "none";
  } catch (err) {
    alert(err.message);
  }
};
document.getElementById("loginSubmit").onclick = async () => {
  const email = loginEmail.value.trim();
  const pass = loginPassword.value.trim();
  try {
    await signInWithEmailAndPassword(auth, email, pass);
    loginModal.style.display = "none";
  } catch (err) {
    alert(err.message);
  }
};
document.getElementById("googleLogin").onclick = async () => {
  try {
    await signInWithPopup(auth, provider);
    loginModal.style.display = "none";
  } catch (err) {
    alert(err.message);
  }
};
document.getElementById("logoutBtn").onclick = async () => { await signOut(auth); };

// ===== Display user name =====
const userDisplay = document.getElementById("userDisplay");
onAuthStateChanged(auth, (user) => {
  if (user) {
    document.getElementById("loginBtn").style.display = "none";
    document.getElementById("registerBtn").style.display = "none";
    document.getElementById("logoutBtn").style.display = "inline-block";
    userDisplay.textContent = `Welcome, ${user.displayName || user.email.split("@")[0]} üëã`;
  } else {
    document.getElementById("loginBtn").style.display = "inline-block";
    document.getElementById("registerBtn").style.display = "inline-block";
    document.getElementById("logoutBtn").style.display = "none";
    userDisplay.textContent = "";
  }
});

// ===== Load Wishes =====
async function loadWishes() {
  const grid = document.getElementById("wishGrid");
  grid.innerHTML = "<p style='width:100%;color:white;'>Loading wishes...</p>";
  try {
    const q = query(collection(db, "birthdayGifts"), orderBy("createdAt", "desc"));
    const snapshot = await getDocs(q);
    grid.innerHTML = "";
    if (snapshot.empty) {
      grid.innerHTML = "<p style='width:100%;color:white;'>No wishes yet üéà</p>";
    }
    snapshot.forEach((docSnap) => {
      const data = docSnap.data();
      const id = docSnap.id;
      const card = document.createElement("div");
      card.classList.add("wish-card");
      card.innerHTML = `
        <img src="${data.coverUrl || 'https://via.placeholder.com/300'}" alt="${data.title || ''}">
        <h3>${data.title || "Untitled Wish"}</h3>
        <p>${data.description || "A lovely surprise!"}</p>`;
      // FIXED: use proper template literal here (no escaping)
      card.onclick = () => window.location.href = `preview.html?id=${id}`;
      grid.appendChild(card);
    });
  } catch (e) {
    console.error(e);
    grid.innerHTML = "<p style='width:100%;color:red;'>Failed to load wishes üò¢</p>";
  }
}

window.addEventListener("DOMContentLoaded", loadWishes);
</script>
</body>
</html>
=======
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- Primary Meta Tags -->
<title>üéÇ Happy Birthday Wishes | MS Nonstop üéâ</title>
<meta name="title" content="üéÇ Happy Birthday Wishes | MS Nonstop üéâ">
<meta name="description" content="Send and explore heartfelt birthday wishes made with love! üíñ A creative birthday surprise by MS Nonstop.">
<meta name="keywords" content="birthday, wishes, surprise, gift, love, ms nonstop, happy birthday, celebration, party, greeting, cake">
<meta name="author" content="MS Nonstop">

<!-- Favicon -->
<link rel="icon" type="image/png" href="https://cdn-icons-png.flaticon.com/512/4151/4151069.png">

<!-- Open Graph / Facebook -->
<meta property="og:type" content="website">
<meta property="og:url" content="https://yourwebsiteurl.com/">
<meta property="og:title" content="üéÇ Happy Birthday Wishes | MS Nonstop üéâ">
<meta property="og:description" content="A beautiful birthday landing page full of love, wishes, and surprises üíï.">
<meta property="og:image" content="https://cdn.pixabay.com/photo/2017/08/06/09/53/birthday-2595751_960_720.png">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:url" content="https://yourwebsiteurl.com/">
<meta name="twitter:title" content="üéÇ Happy Birthday Wishes | MS Nonstop üéâ">
<meta name="twitter:description" content="Celebrate a special day with warmth, joy, and heartfelt wishes üéà.">
<meta name="twitter:image" content="https://cdn.pixabay.com/photo/2017/08/06/09/53/birthday-2595751_960_720.png">

<!-- Fonts -->
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;500;700&display=swap" rel="stylesheet">

<style>
*{margin:0;padding:0;box-sizing:border-box;}
body{
  font-family:"Poppins",sans-serif;
  min-height:100vh;
  background:linear-gradient(135deg,#ffb6c1,#ff66b3,#cc66ff);
  background-size:400% 400%;
  animation:gradientMove 8s ease infinite;
  overflow-x:hidden;
}
@keyframes gradientMove {
  0%{background-position:0% 50%;}
  50%{background-position:100% 50%;}
  100%{background-position:0% 50%;}
}

/* ===== Navbar ===== */
nav{
  position:fixed;top:0;left:0;width:100%;
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(10px);
  display:flex;justify-content:space-between;align-items:center;
  padding:10px 20px;z-index:100;
  box-shadow:0 4px 30px rgba(0,0,0,0.2);
}
nav .logo{font-size:20px;color:#fff;font-weight:700;text-shadow:0 2px 10px rgba(255,255,255,0.5);}
nav ul{display:flex;gap:20px;}
nav ul li{list-style:none;}
nav ul li a{color:white;text-decoration:none;font-weight:500;font-size:16px;transition:0.3s;}
nav ul li a:hover{color:#ffe6f9;text-shadow:0 0 10px #fff;}
.auth-btns{display:flex;align-items:center;gap:8px;flex-wrap:wrap;}
.auth-btns button{
  padding:6px 14px;border:none;border-radius:8px;
  background:linear-gradient(90deg,#ff4da6,#ff1a8c);color:white;cursor:pointer;
  transition:0.3s;font-size:14px;
}
.auth-btns button:hover{background:linear-gradient(90deg,#ff66b3,#cc33ff);}
#userDisplay{
  color:#fff;
  font-weight:600;
  text-shadow:0 2px 5px rgba(0,0,0,0.4);
  font-size:14px;
}

/* ===== Hero Section ===== */
.hero{
  display:flex;flex-direction:column;align-items:center;justify-content:center;
  text-align:center;height:100vh;padding:100px 20px 60px;color:white;position:relative;
  background:url('birthday.jpg') center/cover no-repeat;
}
.hero::after{
  content:"";position:absolute;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.4);z-index:0;
}
.hero h1, .hero p{
  position:relative;z-index:1;
}
.hero h1{
  font-size:60px;font-weight:700;
  text-shadow:0 10px 30px rgba(0,0,0,0.4);
  animation:floatText 3s ease-in-out infinite;
}
@keyframes floatText{0%,100%{transform:translateY(0);}50%{transform:translateY(-10px);}}
.hero p{
  font-size:20px;margin-top:15px;max-width:600px;
}

/* ===== Wishes Section ===== */
section#wishes{
  padding:80px 20px;
  background:rgba(255,255,255,0.1);
  backdrop-filter:blur(10px);
  color:#fff;text-align:center;
}
#wishes h2{
  font-size:35px;margin-bottom:30px;
  color:#ffe6f2;text-shadow:0 0 15px rgba(255,255,255,0.4);
}
.wish-grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(250px,1fr));
  gap:25px;max-width:1100px;margin:0 auto;
}
.wish-card{
  background:rgba(255,255,255,0.2);
  border-radius:20px;padding:20px;
  box-shadow:0 10px 30px rgba(0,0,0,0.3);
  backdrop-filter:blur(8px);
  transition:transform 0.3s;cursor:pointer;
}
.wish-card:hover{transform:translateY(-10px) scale(1.05);}
.wish-card img{
  width:100%;border-radius:15px;
  height:180px;object-fit:cover;
}
.wish-card h3{margin-top:10px;font-size:20px;color:#ffe6f9;}
.wish-card p{font-size:15px;margin-top:5px;}

/* ===== Floating Decorations ===== */
.floating{
  position:absolute;font-size:30px;opacity:0.7;
  animation:floaty 8s ease-in-out infinite;
}
@keyframes floaty{0%,100%{transform:translateY(0);}50%{transform:translateY(-30px);}}
.heart1{left:10%;top:20%;}.heart2{right:15%;top:40%;}.heart3{left:50%;bottom:10%;}.heart4{right:40%;top:65%;}.heart5{left:25%;top:60%;}

/* ===== Modal ===== */
.modal{
  display:none;position:fixed;top:0;left:0;width:100%;height:100%;
  background:rgba(0,0,0,0.6);
  justify-content:center;align-items:center;z-index:1000;
}
.modal-content{
  background:white;padding:25px;border-radius:15px;width:90%;max-width:320px;
  display:flex;flex-direction:column;gap:10px;
}
.modal-content h2{text-align:center;color:#ff4da6;}
.modal-content input{
  padding:10px;border:1px solid #ccc;border-radius:8px;width:100%;
}
.modal-content button{
  padding:10px;border:none;border-radius:8px;
  background:#ff66b3;color:white;cursor:pointer;
}
.modal-content button:hover{background:#cc33ff;}

footer{
  text-align:center;padding:30px;
  background:rgba(255,255,255,0.15);
  color:white;font-size:14px;
}

/* ===== Responsive ===== */
@media(max-width:600px){
  .hero h1{font-size:42px;}
  .hero p{font-size:18px;}
  nav ul{display:none;}
  .auth-btns button{padding:6px 10px;font-size:13px;}
}
</style>
</head>
<body>

<!-- Navbar -->
<nav>
  <div class="logo">üéÇ Birthday Wishes</div>
  <ul>
    <li><a href="#home">Home</a></li>
    <li><a href="#wishes">Wishes</a></li>
  </ul>
  <div class="auth-btns">
    <span id="userDisplay"></span>
    <button id="loginBtn">Login</button>
    <button id="registerBtn">Register</button>
    <button id="logoutBtn" style="display:none;">Logout</button>
  </div>
</nav>

<!-- Floating Emojis -->
<div class="floating heart1">üéà</div>
<div class="floating heart2">üéÅ</div>
<div class="floating heart3">üíñ</div>
<div class="floating heart4">üéâ</div>
<div class="floating heart5">üéÇ</div>

<!-- Hero Section -->
<section id="home" class="hero">
  <h1>Happy Birthday üíñ</h1>
  <p>May your day be filled with laughter, love, and unforgettable surprises! üéâ</p>
</section>

<!-- Wishes Section -->
<section id="wishes">
  <h2>üéÅ Birthday Wishes Gallery üéÅ</h2>
  <div class="wish-grid" id="wishGrid">
    <p style="width:100%;color:white;">Loading wishes...</p>
  </div>
</section>

<!-- Login Modal -->
<div class="modal" id="loginModal">
  <div class="modal-content">
    <h2>Login</h2>
    <input type="email" id="loginEmail" placeholder="Email">
    <input type="password" id="loginPassword" placeholder="Password">
    <button id="loginSubmit">Login</button>
    <button id="googleLogin">Login with Google</button>
  </div>
</div>

<!-- Register Modal -->
<div class="modal" id="registerModal">
  <div class="modal-content">
    <h2>Register</h2>
    <input type="text" id="registerName" placeholder="Full Name">
    <input type="email" id="registerEmail" placeholder="Email">
    <input type="password" id="registerPassword" placeholder="Password">
    <button id="registerSubmit">Sign Up</button>
  </div>
</div>

<footer>Made with üíï by MS Nonstop | ¬© 2025</footer>

<script type="module">
// ===== Firebase Config =====
import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
import { getFirestore, collection, getDocs, query, orderBy } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-firestore.js";
import { 
  getAuth, onAuthStateChanged, signOut, 
  signInWithEmailAndPassword, createUserWithEmailAndPassword,
  updateProfile, GoogleAuthProvider, signInWithPopup 
} from "https://www.gstatic.com/firebasejs/9.23.0/firebase-auth.js";

const firebaseConfig = {
  apiKey: "AIzaSyCAKFNsyN2Xa5Db_eUUixQsMG1s-eyehg8",
  authDomain: "m-s-socilal-c84j79.firebaseapp.com",
  projectId: "m-s-socilal-c84j79",
  storageBucket: "m-s-socilal-c84j79.appspot.com",
  messagingSenderId: "221654893663",
  appId: "1:221654893663:web:e9d07d7085a20292bb87ea"
};

const app = initializeApp(firebaseConfig);
const db = getFirestore(app);
const auth = getAuth(app);
const provider = new GoogleAuthProvider();

// ===== Modal Control =====
const loginModal = document.getElementById("loginModal");
const registerModal = document.getElementById("registerModal");
document.getElementById("loginBtn").onclick = () => loginModal.style.display = "flex";
document.getElementById("registerBtn").onclick = () => registerModal.style.display = "flex";
window.onclick = (e) => {
  if (e.target === loginModal) loginModal.style.display = "none";
  if (e.target === registerModal) registerModal.style.display = "none";
};

// ===== Authentication =====
document.getElementById("registerSubmit").onclick = async () => {
  const name = registerName.value.trim();
  const email = registerEmail.value.trim();
  const pass = registerPassword.value.trim();
  try {
    const userCred = await createUserWithEmailAndPassword(auth, email, pass);
    await updateProfile(userCred.user, { displayName: name });
    alert("Registration successful!");
    registerModal.style.display = "none";
  } catch (err) {
    alert(err.message);
  }
};
document.getElementById("loginSubmit").onclick = async () => {
  const email = loginEmail.value.trim();
  const pass = loginPassword.value.trim();
  try {
    await signInWithEmailAndPassword(auth, email, pass);
    loginModal.style.display = "none";
  } catch (err) {
    alert(err.message);
  }
};
document.getElementById("googleLogin").onclick = async () => {
  try {
    await signInWithPopup(auth, provider);
    loginModal.style.display = "none";
  } catch (err) {
    alert(err.message);
  }
};
document.getElementById("logoutBtn").onclick = async () => { await signOut(auth); };

// ===== Display user name =====
const userDisplay = document.getElementById("userDisplay");
onAuthStateChanged(auth, (user) => {
  if (user) {
    document.getElementById("loginBtn").style.display = "none";
    document.getElementById("registerBtn").style.display = "none";
    document.getElementById("logoutBtn").style.display = "inline-block";
    userDisplay.textContent = `Welcome, ${user.displayName || user.email.split("@")[0]} üëã`;
  } else {
    document.getElementById("loginBtn").style.display = "inline-block";
    document.getElementById("registerBtn").style.display = "inline-block";
    document.getElementById("logoutBtn").style.display = "none";
    userDisplay.textContent = "";
  }
});

// ===== Load Wishes =====
async function loadWishes() {
  const grid = document.getElementById("wishGrid");
  grid.innerHTML = "<p style='width:100%;color:white;'>Loading wishes...</p>";
  try {
    const q = query(collection(db, "birthdayGifts"), orderBy("createdAt", "desc"));
    const snapshot = await getDocs(q);
    grid.innerHTML = "";
    if (snapshot.empty) {
      grid.innerHTML = "<p style='width:100%;color:white;'>No wishes yet üéà</p>";
    }
    snapshot.forEach((docSnap) => {
      const data = docSnap.data();
      const id = docSnap.id;
      const card = document.createElement("div");
      card.classList.add("wish-card");
      card.innerHTML = `
        <img src="${data.coverUrl || 'https://via.placeholder.com/300'}" alt="${data.title || ''}">
        <h3>${data.title || "Untitled Wish"}</h3>
        <p>${data.description || "A lovely surprise!"}</p>`;
      // FIXED: use proper template literal here (no escaping)
      card.onclick = () => window.location.href = `preview.html?id=${id}`;
      grid.appendChild(card);
    });
  } catch (e) {
    console.error(e);
    grid.innerHTML = "<p style='width:100%;color:red;'>Failed to load wishes üò¢</p>";
  }
}

window.addEventListener("DOMContentLoaded", loadWishes);
</script>
</body>
</html>
>>>>>>> 1b5378770ac250c811b3fbafbd2727fe992d1727
